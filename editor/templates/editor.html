{% extends "layout.html" %}

{% block title %}Editor{% endblock %} 

{% block additionalStyles %}
{% if highlight %}
<link rel="stylesheet" href="/static/highlight/index.css">
{% endif %}
{% endblock %}

{% block menuitems %}
{{super()}}
<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        File
    </a>
    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
        <a class="dropdown-item" href="#" onclick="document.getElementById('fileinput').click()">Load</a>
        <a class="dropdown-item" href="#" onclick="saveText(document.getElementById('codeField'));">Save</a>
        <a class="dropdown-item" href="#" onclick="$('#chooseFileModal').modal('toggle');">Download</a>
    </div>
</li>
{% endblock %}

{% block content %}
    <input id="fileinput" type="file" class="custom-file-input d-none" onchange="fileLoad(this);" />
    
    <div class="container">
        
       
        
       
                <!-- <div id=editor>
                    {% if highlight %}
                    {% include 'highlight/index.html' %}
                    {% endif %}
                    <textarea spellcheck="false" id="textArea" onKeyUp="processTitle(event, this);" onKeyDown="processText(event, this);"
                        class="form-control"></textarea>
                </div>
             -->
        



        <div class="d-flex justify-content-center mb-3"></div>
        <div id="saved" style="display: none;" class="text-white bg-info rounded font-weight-bold p-2 px-4">Saved</div>    
    </div>

    <div class="modal fade" id="chooseFileModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Choose a file</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <input type="text" placeholder="Enter file name" id="fileNameField" class="form-control form-text"/>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-primary" onclick="downloadfile(document.getElementById('fileNameField').value); $('#chooseFileModal').modal('toggle');">Save</a>
                </div>
            </div>
        </div>
    </div>

    <div class="d-flex justify-content-center mb-3">
        <button id="google" button type ="button" class="btn btn-outline-primary" onclick="search(this.id)">Search on Google</button>
        <button id ="youtube" button type="button" class="btn btn-outline-danger" 
        onclick="search(this.id)"
        >Search on YouTube</button>
        <button id="stackoverflow" button type="button" class="btn btn-outline-warning"
        onclick="search(this.id)"
        >Search on StackOverflow</button>
        <button id="reddit" button type="button" class="btn btn-outline-success"
        onclick="search(this.id)"
        >Search on Reddit</button>
    </div>

    <div class="container">
            <div class="d-flex justify-content-center mb-3"></div>
        <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
              <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">Tab 1</a>
              <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">Tab 2</a>
              <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false">Tab 3</a>
            </div>
          </nav>
          <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                <div class="form-group">
                    {% if highlight %}
                    {% include 'highlight/index.html' %}
                    {% endif %}
                    <textarea spellcheck="false" id="textArea" 
                    onKeyDown="passID(this.id); processText(event, this);" class="form-control"
                    onKeyUp="processTitle(event, this);">
                    </textarea>
                </div>
            </div>

            <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                
                <div class="form-group">
                    {% if highlight %}
                    {% include 'highlight/index.html' %}
                    {% endif %}
                    <textarea spellcheck="false" id="textArea2" 
                    onKeyDown="passID(this.id); processText(event, this);"
                    onKeyUp="processTitle(event, this);"
                        class="form-control"></textarea>
                </div>

            </div>

            <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
                <div class="form-group">
                    <textarea spellcheck="false" id="textArea3" 
                    onKeyDown="passID(this.id); processText(event, this);"
                    onKeyUp="processTitle(event, this);"
                        class="form-control"></textarea>
                </div>
            </div>
          </div>
    </div>

{% endblock %}

{% block additionalScripts %}
{% if highlight %}
    <script src="/static/highlight/index.js"></script>
{% endif %}
{% endblock %}